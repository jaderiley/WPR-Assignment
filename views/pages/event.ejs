<%- include('../partials/header') %>

<div class="game-container">
  <div class="game-header">
    <span class="game-title"><%= event.title %></span>
  </div>
  <div class="game-content">
    <div class="event-card" style="background-image: url('<%= event.image %>'); background-size: cover; background-position: center; background-repeat: no-repeat; height: 400px;">
      <div class="content">
        <h3 class="event-title"><%= event.title %></h3>
        <p class="event-date"><%= event.date %></p>
        <p class="event-location"><%= event.location %></p>
        <p class="event-description"><%= event.description %></p>
        <div class="countdown-container">
          <div class="countdown-timer" id="countdown-<%= event.title.replace(/[^a-zA-Z0-9]/g, '-') %>"></div>
        </div>
        <button class="game-button">Register</button>
        <!-- Specific enhancements -->
        <% if (event.title === "Pac-man's Prejudice") { %>
          <div class="event-details">Live Leaderboard Coming Soon! Top 10 scores win prizes!</div>
        <% } else if (event.title === "LAN Legends") { %>
          <div class="event-details">Venue Map: <a href="#" style="color: var(--neon-cyan);">Smart City Tour</a> | Featured Games: CS:GO, StarCraft II</div>
        <% } else if (event.title === "Cosplay & Cartridges") { %>
          <div class="event-details">Cosplay Categories: Best Costume, Best Group | <a href="#" style="color: var(--neon-cyan);">Submit Photo</a></div>
        <% } else if (event.title === "Just Dance Retro Remix") { %>
          <div class="event-details">Practice Video: <a href="#" style="color: var(--neon-cyan);">Watch Now</a> | Tracks: Thriller, Beat It</div>
        <% } else if (event.title === "Cartridge Collector's Fest") { %>
          <div class="event-details">Schedule: 10 AM Swap Meet, 2 PM Auction | <a href="#" style="color: var(--neon-cyan);">Trade Request</a></div>
        <% } else if (event.title === "Throwback Thursday") { %>
          <div class="event-details">Campus Map: <a href="#" style="color: var(--neon-cyan);">View Locations</a> | Arcade History: Relive the 80s!</div>
        <% } %>
      </div>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const eventDate = new Date("<%= event.date %>");
  const now = new Date("2025-05-14T12:03:00Z"); // Current date and time: 12:03 PM SAST, May 14, 2025
  const countdownElement = document.getElementById('countdown-<%= event.title.replace(/[^a-zA-Z0-9]/g, '-') %>');
  function updateCountdown() {
    const distance = eventDate - now;
    if (distance > 0) {
      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      countdownElement.textContent = `${days}d ${hours}h ${minutes}m`;
    } else {
      countdownElement.textContent = "Event Started!";
    }
  }
  updateCountdown();
  // Update every minute
  setInterval(updateCountdown, 60000);
});
</script>

<%- include('../partials/footer') %>